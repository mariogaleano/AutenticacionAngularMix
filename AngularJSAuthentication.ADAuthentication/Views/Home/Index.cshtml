@{
    ViewBag.Title = "Home Page";
}


@Scripts.Render("~/bundles/applicationFiles")


@{
    var user = "Null User";
    if (!String.IsNullOrEmpty(User.Identity.Name))
    {
        user = User.Identity.Name;
    }

}


<div class="jumbotron" ng-app="aplicacion" ng-controller="controlador">

    <script type="text/javascript">

        //jQuery.support.cors = true;

    aplicacion.constant('user', { clientId: '@user' });

        var setValores = function () {

            //localStorageService.set('authorizationData', { token: response.access_token, userName: response.userName, refreshToken: "", useRefreshTokens: false });

            //localStorage.clear();

            localStorage.setItem('authorizationData', { token: '@ViewBag.AuthenticationHeader', userName: '@user', refreshToken: "", useRefreshTokens: false });



        };

        setValores();

    </script>


    <h1>ASP.NET</h1>


    Auth Header: @ViewBag.AuthenticationHeader

    <div>
        <input type="text" class="form-control" placeholder="Username" ng-model="loginData.userName" required autofocus>
        <input type="password" class="form-control" placeholder="Password" ng-model="loginData.password" required>
        <input type="button" class="btn btn-primary btn-lg" value="Login" ng-click="login()" />
        <div data-ng-hide="message == ''" class="alert alert-danger">
            {{message}}
        </div>
    </div>

    <br />
    <input type="button" class="btn btn-primary btn-lg" value="Cargar" ng-click="Cargar()" ng-hide="data" />

    <ul ng-repeat="item in data">
        <li>  {{item}} </li>
    </ul>

    <input type="button" class="btn btn-primary btn-lg" value="Limpiar" ng-click="Limpiar()" ng-show="data" />

</div>

